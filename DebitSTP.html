<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debit STP</title>
    <link rel="stylesheet" href="titik3.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="debit.css">
  </head>
  <body>
    <div class="kon1">
            <button class="btnOpsi" onclick="window.location.href='index.html'";>HOME</button>
            <button class="btnOpsi" onclick="window.location.href='msds.html'";>MSDS</button>
            <button class="btnOpsi" onclick="window.location.href='wi.html'";>WORK INSTRUCTION</button>
            
        </div>
    <div class="container">
      <h1 class="text-center mb-4">Debit STP</h1>
      <div class="table-responsive">
        <table class="table table-bordered table-striped" id="dataTable">
          <thead class="table-dark">
            <tr id="tableHead">
              <th>Loading bang......</th>
            </tr>
          </thead>
          <tbody id="tableBody">
            <tr><td>Tunggu Bentarr...</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
      const GAS_URL = "https://script.google.com/macros/s/AKfycbxjpF3WMVyEMqsOdRfT9rKtFz0IdntmhFrT0Ja9A2IXqhvW7vf-3ztbOBqrzq_AIXow/exec";

      function tampilkanData(data) {
        const headRow = document.getElementById("tableHead");
        const bodyTable = document.getElementById("tableBody");

        if (!data || !data.hasil || data.hasil.length === 0) {
          headRow.innerHTML = "<th>Tidak ada data</th>";
          bodyTable.innerHTML = "<tr><td>Kosong</td></tr>";
          return;
        }

        // Buat header
        const headers = Object.keys(data.hasil[0]);
        headRow.innerHTML = headers.map(h => `<th>${h}</th>`).join("");

        // Buat isi tabel
        bodyTable.innerHTML = data.hasil
          .map(row => {
            return `<tr>${headers.map(h => `<td>${row[h] ?? ""}</td>`).join("")}</tr>`;
          })
          .join("");
      }

      // JSONP panggilan ke Google Apps Script
      const script = document.createElement("script");
      script.src = GAS_URL + "?callback=tampilkanData";
      document.body.appendChild(script);

    </script>
    <div class="mudun" id="menu1">
        <button class="menu-btn">ðŸ§­</button>
        <div class="mudun-content">
            <a href="DebitSTP.html">Debit STP</a>
            <a href="DebitWWTP.html">Debit WWTP</a>
        </div>
        </div>

        <script>
        // Event untuk setiap mudun
        document.querySelectorAll('.mudun').forEach(drop => {
            const btn = drop.querySelector('.menu-btn');

            btn.addEventListener('click', e => {
            e.stopPropagation();

            // Tutup semua menu lain dulu
            document.querySelectorAll('.mudun').forEach(d => {
                if (d !== drop) d.classList.remove('show');
            });

            // Toggle menu ini
            drop.classList.toggle('show');
            });
        });

        // Tutup semua mudun jika klik di luar
        document.addEventListener('click', () => {
            document.querySelectorAll('.mudun').forEach(d => d.classList.remove('show'));
        });
        </script>
    
  </body>
</html>
